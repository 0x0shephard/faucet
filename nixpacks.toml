# Nixpacks configuration for Railway
[phases.setup]
nixPkgs = ['nodejs-18_x', 'chromium', 'nss', 'freetype', 'harfbuzz', 'ca-certificates', 'ttf-freefont']

[phases.install]
cmds = [
  'npm install',
  'npx playwright install chromium --with-deps'
]

[phases.build]
cmds = ['npm run build']

[start]
cmd = 'npm start'

[variables]
PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD = 'false'
NODE_ENV = 'production'
